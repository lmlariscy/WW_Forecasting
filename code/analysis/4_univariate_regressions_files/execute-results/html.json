{
  "hash": "d8ee89c7611d313890d576f66b36317c",
  "result": {
    "markdown": "---\ntitle: \"Univariate Linear Regressions\"\nauthor: \"Leah Lariscy\"\nformat: html\neditor: visual\ntoc: true\ntoc-depth: 4\ndf-print: paged\ncode-overflow: wrap\n---\n\n\n## Load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(message=F)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(here)\nlibrary(forecast)\nlibrary(tidymodels)\n```\n:::\n\n\n## Load data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- readRDS(here(\"data/processed_data/covid_wbe_7dma_weekly.rds\")) %>% \n  mutate(log10_vl_7dma=log10(vl_7dma),\n         log_case_pos_7dma=log(case_pcr_pos_7dma),\n         case_prop_pos_7dma=case_prop_pos_7dma*100,\n         log_case_prop_pos_7dma=log(case_prop_pos_7dma),\n         log_pr_7dma=log(pr_7dma))\n\n#certain variables have been transformed due to distribution abnormality, with some distributions being normalized by certain transformations\n\n#i wanted to build models with both transformed and non-transformed data to compare performances\n```\n:::\n\n\n## Data splitting\n\nSee notes on script 3 for details\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_train_dates <- data %>% head(n = 92) #selects dates before or on the 13th week of 2022 (end of March)\nsplit <- initial_split(data_train_dates, prop=8/10) #reserve 20% of observations at random to do validation\nset.seed(13)\ntrain <- training(split) #create dataset to train models with\n\nset.seed(16)\ntest <- testing(split) #create smaller dataset to do model performance validation with\n```\n:::\n\n\n## Define model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlr <- linear_reg()\nnull <- null_model() %>% set_engine(\"parsnip\") %>% set_mode(\"regression\")\n```\n:::\n\n\n## A) Log10 Viral load as predictor\n\n### 1. Positive test count 7DMA \\~ VL 7DMA\n\n#### Viz\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(log(data$case_pcr_pos_7dma)) #check distribution of dependent variable (more normal when natural log transformed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(log10(data$vl_7dma)) #distribution of independent variable (somewhat normally distributed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-6-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(log10(case_pcr_pos_7dma)~ log10(vl_7dma), data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-6-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe1 <- recipe(case_pcr_pos_7dma ~ log10_vl_7dma, data = train) #recipe \n####################################################################################\nworkflow1 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe1) #model workflow\n####################################################################################\nset.seed(13)\nfit1 <- workflow1 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit1) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-1265.3442\",\"3\":\"196.62301\",\"4\":\"-6.435382\",\"5\":\"1.452754e-08\"},{\"1\":\"log10_vl_7dma\",\"2\":\"102.1033\",\"3\":\"15.30157\",\"4\":\"6.672736\",\"5\":\"5.484961e-09\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train1 <- augment(fit1, train)\naug_train1 %>% select(case_pcr_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"case_pcr_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"9.0000000\",\"2\":\"47.5862907\"},{\"1\":\"65.5714286\",\"2\":\"47.9682186\"},{\"1\":\"11.7142857\",\"2\":\"54.4424879\"},{\"1\":\"35.0714286\",\"2\":\"31.3263237\"},{\"1\":\"24.1428571\",\"2\":\"10.7473972\"},{\"1\":\"2.2142857\",\"2\":\"0.8044556\"},{\"1\":\"72.1428571\",\"2\":\"12.6804426\"},{\"1\":\"91.0714286\",\"2\":\"39.6166442\"},{\"1\":\"92.8571429\",\"2\":\"92.4806757\"},{\"1\":\"38.1428571\",\"2\":\"98.5217378\"},{\"1\":\"8.5714286\",\"2\":\"9.1173455\"},{\"1\":\"38.5714286\",\"2\":\"87.9629879\"},{\"1\":\"11.8571429\",\"2\":\"51.1837697\"},{\"1\":\"13.0000000\",\"2\":\"22.2754160\"},{\"1\":\"34.2857143\",\"2\":\"10.9718636\"},{\"1\":\"16.2142857\",\"2\":\"62.7403518\"},{\"1\":\"5.5714286\",\"2\":\"41.6912403\"},{\"1\":\"64.4285714\",\"2\":\"27.8395303\"},{\"1\":\"45.0714286\",\"2\":\"43.6722033\"},{\"1\":\"12.9285714\",\"2\":\"15.7362462\"},{\"1\":\"214.2857143\",\"2\":\"130.1195640\"},{\"1\":\"10.1428571\",\"2\":\"68.6312922\"},{\"1\":\"289.7857143\",\"2\":\"118.8040459\"},{\"1\":\"2.8571429\",\"2\":\"49.8694685\"},{\"1\":\"46.5714286\",\"2\":\"NaN\"},{\"1\":\"48.5714286\",\"2\":\"98.6199049\"},{\"1\":\"5.7857143\",\"2\":\"16.3785785\"},{\"1\":\"18.4285714\",\"2\":\"15.5197297\"},{\"1\":\"73.1428571\",\"2\":\"86.5417692\"},{\"1\":\"62.5714286\",\"2\":\"19.8711396\"},{\"1\":\"7.5000000\",\"2\":\"55.3846347\"},{\"1\":\"16.5000000\",\"2\":\"69.8444007\"},{\"1\":\"9.3571429\",\"2\":\"12.6921902\"},{\"1\":\"25.6428571\",\"2\":\"6.2857288\"},{\"1\":\"116.0000000\",\"2\":\"28.3496458\"},{\"1\":\"0.5000000\",\"2\":\"0.9436777\"},{\"1\":\"58.1428571\",\"2\":\"NaN\"},{\"1\":\"9.3571429\",\"2\":\"14.1120518\"},{\"1\":\"3.0714286\",\"2\":\"51.3155559\"},{\"1\":\"98.6428571\",\"2\":\"105.0092863\"},{\"1\":\"251.7857143\",\"2\":\"129.3031798\"},{\"1\":\"54.2142857\",\"2\":\"11.8850953\"},{\"1\":\"9.7142857\",\"2\":\"67.9046381\"},{\"1\":\"148.0714286\",\"2\":\"126.2699137\"},{\"1\":\"25.8571429\",\"2\":\"7.3549055\"},{\"1\":\"35.1428571\",\"2\":\"NaN\"},{\"1\":\"64.8571429\",\"2\":\"104.9651682\"},{\"1\":\"10.4285714\",\"2\":\"10.5212030\"},{\"1\":\"16.0714286\",\"2\":\"16.1445567\"},{\"1\":\"2.8571429\",\"2\":\"9.7841727\"},{\"1\":\"21.4285714\",\"2\":\"21.1118364\"},{\"1\":\"60.3571429\",\"2\":\"77.8246718\"},{\"1\":\"13.9285714\",\"2\":\"34.2886567\"},{\"1\":\"36.7142857\",\"2\":\"20.1813792\"},{\"1\":\"3.4285714\",\"2\":\"43.5452545\"},{\"1\":\"96.4285714\",\"2\":\"99.4079605\"},{\"1\":\"7.5714286\",\"2\":\"11.4255465\"},{\"1\":\"0.6428571\",\"2\":\"2.8696534\"},{\"1\":\"6.2142857\",\"2\":\"20.4966153\"},{\"1\":\"7.7857143\",\"2\":\"8.7303996\"},{\"1\":\"12.5714286\",\"2\":\"69.2373538\"},{\"1\":\"4.1428571\",\"2\":\"8.2726083\"},{\"1\":\"76.5714286\",\"2\":\"108.7875346\"},{\"1\":\"6.9285714\",\"2\":\"15.5661736\"},{\"1\":\"9.0000000\",\"2\":\"58.2743647\"},{\"1\":\"27.1428571\",\"2\":\"8.7149818\"},{\"1\":\"228.7142857\",\"2\":\"92.9235316\"},{\"1\":\"22.3571429\",\"2\":\"78.5778808\"},{\"1\":\"57.5714286\",\"2\":\"16.0492118\"},{\"1\":\"86.2857143\",\"2\":\"112.9397458\"},{\"1\":\"32.2142857\",\"2\":\"49.6023832\"},{\"1\":\"8.0714286\",\"2\":\"9.4745011\"},{\"1\":\"114.5714286\",\"2\":\"18.9780575\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds1 <- vfold_cv(train, v = 5, repeats = 5, strata = case_pcr_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv1 <- fit_resamples(workflow1, resamples = folds1)\ncv1_metrics <- collect_metrics(cv1)\ncv1_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"46.3077703\",\"4\":\"25\",\"5\":\"2.23943366\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.3958014\",\"4\":\"25\",\"5\":\"0.03514834\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null1 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe1)\n\nnull_cv_metrics1 <- fit_resamples(workflow_null1, resamples = folds1)\n\ncollect_metrics(null_cv_metrics1) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"56.69927\",\"4\":\"25\",\"5\":\"3.208305\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse1 <- aug_train1 %>% rmse(truth = case_pcr_pos_7dma, .pred)\nrsq1 <- aug_train1 %>% rsq(truth = case_pcr_pos_7dma, .pred)\nm1_metrics <- full_join(rmse1, rsq1)\nm1_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"46.496380\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.395692\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train1 %>% ggplot(aes(case_pcr_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n### 2. Natural log positive test count 7DMA \\~ log10 VL 7DMA\n\n#### Viz\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(data$log_case_pos_7dma) #check distribution of dependent variable (more normal when natural log transformed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(log10(data$vl_7dma)) #distribution of independent variable (somewhat normally distributed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(log_case_pos_7dma~ log10(vl_7dma), data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-8-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe2 <- recipe(log_case_pos_7dma ~ log10_vl_7dma, data = train) #recipe \n####################################################################################\nworkflow2 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe2) #model workflow\n####################################################################################\nset.seed(13)\nfit2 <- workflow2 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit2) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-24.098518\",\"3\":\"4.635754\",\"4\":\"-5.198404\",\"5\":\"2.003355e-06\"},{\"1\":\"log10_vl_7dma\",\"2\":\"2.114813\",\"3\":\"0.360763\",\"4\":\"5.862055\",\"5\":\"1.478839e-07\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train2 <- augment(fit2, train)\naug_train2 %>% select(log_case_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"log_case_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"2.1972246\",\"2\":\"3.095522\"},{\"1\":\"4.1831401\",\"2\":\"3.103433\"},{\"1\":\"2.4608091\",\"2\":\"3.237531\"},{\"1\":\"3.5573868\",\"2\":\"2.758738\"},{\"1\":\"3.1839886\",\"2\":\"2.332498\"},{\"1\":\"0.7949299\",\"2\":\"2.126555\"},{\"1\":\"4.2786483\",\"2\":\"2.372536\"},{\"1\":\"4.5116441\",\"2\":\"2.930451\"},{\"1\":\"4.5310622\",\"2\":\"4.025396\"},{\"1\":\"3.6413385\",\"2\":\"4.150522\"},{\"1\":\"2.1484344\",\"2\":\"2.298735\"},{\"1\":\"3.6525118\",\"2\":\"3.931824\"},{\"1\":\"2.4729305\",\"2\":\"3.170035\"},{\"1\":\"2.5649494\",\"2\":\"2.571272\"},{\"1\":\"3.5347288\",\"2\":\"2.337147\"},{\"1\":\"2.7858927\",\"2\":\"3.409401\"},{\"1\":\"1.7176515\",\"2\":\"2.973421\"},{\"1\":\"4.1655572\",\"2\":\"2.686518\"},{\"1\":\"3.8082485\",\"2\":\"3.014452\"},{\"1\":\"2.5594397\",\"2\":\"2.435829\"},{\"1\":\"5.3673102\",\"2\":\"4.804991\"},{\"1\":\"2.3167697\",\"2\":\"3.531417\"},{\"1\":\"5.6691417\",\"2\":\"4.570618\"},{\"1\":\"1.0498221\",\"2\":\"3.142813\"},{\"1\":\"3.8409872\",\"2\":\"NaN\"},{\"1\":\"3.8830355\",\"2\":\"4.152555\"},{\"1\":\"1.7553918\",\"2\":\"2.449134\"},{\"1\":\"2.9139023\",\"2\":\"2.431345\"},{\"1\":\"4.2924145\",\"2\":\"3.902387\"},{\"1\":\"4.1363088\",\"2\":\"2.521473\"},{\"1\":\"2.0149030\",\"2\":\"3.257045\"},{\"1\":\"2.8033604\",\"2\":\"3.556543\"},{\"1\":\"2.2361400\",\"2\":\"2.372779\"},{\"1\":\"3.2442651\",\"2\":\"2.240086\"},{\"1\":\"4.7535902\",\"2\":\"2.697084\"},{\"1\":\"-0.6931472\",\"2\":\"2.129439\"},{\"1\":\"4.0629030\",\"2\":\"NaN\"},{\"1\":\"2.2361400\",\"2\":\"2.402188\"},{\"1\":\"1.1221428\",\"2\":\"3.172765\"},{\"1\":\"4.5915058\",\"2\":\"4.284895\"},{\"1\":\"5.5285784\",\"2\":\"4.788081\"},{\"1\":\"3.9929444\",\"2\":\"2.356062\"},{\"1\":\"2.2735976\",\"2\":\"3.516366\"},{\"1\":\"4.9976948\",\"2\":\"4.725255\"},{\"1\":\"3.2525869\",\"2\":\"2.262231\"},{\"1\":\"3.5594214\",\"2\":\"NaN\"},{\"1\":\"4.1721870\",\"2\":\"4.283981\"},{\"1\":\"2.3445493\",\"2\":\"2.327813\"},{\"1\":\"2.7770431\",\"2\":\"2.444286\"},{\"1\":\"1.0498221\",\"2\":\"2.312547\"},{\"1\":\"3.0647251\",\"2\":\"2.547171\"},{\"1\":\"4.1002793\",\"2\":\"3.721834\"},{\"1\":\"2.6339422\",\"2\":\"2.820096\"},{\"1\":\"3.6031659\",\"2\":\"2.527899\"},{\"1\":\"1.2321437\",\"2\":\"3.011823\"},{\"1\":\"4.5688025\",\"2\":\"4.168877\"},{\"1\":\"2.0243818\",\"2\":\"2.346544\"},{\"1\":\"-0.4418328\",\"2\":\"2.169330\"},{\"1\":\"1.8268508\",\"2\":\"2.534428\"},{\"1\":\"2.0522906\",\"2\":\"2.290721\"},{\"1\":\"2.5314267\",\"2\":\"3.543970\"},{\"1\":\"1.4213857\",\"2\":\"2.281239\"},{\"1\":\"4.3382240\",\"2\":\"4.363152\"},{\"1\":\"1.9356536\",\"2\":\"2.432307\"},{\"1\":\"2.1972246\",\"2\":\"3.316899\"},{\"1\":\"3.3011139\",\"2\":\"2.290401\"},{\"1\":\"5.4324736\",\"2\":\"4.034569\"},{\"1\":\"3.1071459\",\"2\":\"3.737435\"},{\"1\":\"4.0530264\",\"2\":\"2.442312\"},{\"1\":\"4.4576640\",\"2\":\"4.449154\"},{\"1\":\"3.4724100\",\"2\":\"3.137281\"},{\"1\":\"2.0883305\",\"2\":\"2.306133\"},{\"1\":\"4.7411985\",\"2\":\"2.502975\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds2 <- vfold_cv(train, v = 5, repeats = 5, strata = log_case_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv2 <- fit_resamples(workflow2, resamples = folds2)\ncv2_metrics <- collect_metrics(cv2)\ncv2_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1.0957465\",\"4\":\"25\",\"5\":\"0.04240999\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.3581806\",\"4\":\"25\",\"5\":\"0.03983585\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null2 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe2)\n\nnull_cv_metrics2 <- fit_resamples(workflow_null2, resamples = folds2)\n\ncollect_metrics(null_cv_metrics2) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1.311033\",\"4\":\"25\",\"5\":\"0.04394218\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse2 <- aug_train2 %>% rmse(truth = log_case_pos_7dma, .pred)\nrsq2 <- aug_train2 %>% rsq(truth = log_case_pos_7dma, .pred)\nm2_metrics <- full_join(rmse2, rsq2)\nm2_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1.096239\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.335702\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train2 %>% ggplot(aes(log_case_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n### 3. Test positivity rate 7DMA \\~ log10 VL 7DMA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(data$case_prop_pos_7dma) #check distribution of dependent variable (somewhat skewed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(log10(data$vl_7dma)) #distribution of independent variable (somewhat normally except for observations near LOD\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-10-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(case_prop_pos_7dma ~ log10(vl_7dma), data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-10-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe3 <- recipe(case_prop_pos_7dma ~ log10_vl_7dma, data = train) #recipe \n####################################################################################\nworkflow3 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe3) #model workflow\n####################################################################################\nset.seed(13)\nfit3 <- workflow3 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit3) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-201.03684\",\"3\":\"24.742537\",\"4\":\"-8.125151\",\"5\":\"1.298404e-11\"},{\"1\":\"log10_vl_7dma\",\"2\":\"16.42939\",\"3\":\"1.925511\",\"4\":\"8.532483\",\"5\":\"2.366851e-12\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train3 <- augment(fit3, train)\naug_train3 %>% select(case_prop_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"case_prop_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4.0298403\",\"2\":\"10.226011\"},{\"1\":\"14.9530887\",\"2\":\"10.287466\"},{\"1\":\"8.1096011\",\"2\":\"11.329237\"},{\"1\":\"9.7931689\",\"2\":\"7.609629\"},{\"1\":\"5.4934752\",\"2\":\"4.298287\"},{\"1\":\"1.2555915\",\"2\":\"2.698374\"},{\"1\":\"9.4810994\",\"2\":\"4.609332\"},{\"1\":\"18.3821527\",\"2\":\"8.943620\"},{\"1\":\"10.5885434\",\"2\":\"17.449939\"},{\"1\":\"19.4261632\",\"2\":\"18.422003\"},{\"1\":\"4.3169666\",\"2\":\"4.035996\"},{\"1\":\"10.7066094\",\"2\":\"16.723001\"},{\"1\":\"3.9916887\",\"2\":\"10.804879\"},{\"1\":\"4.3619611\",\"2\":\"6.153253\"},{\"1\":\"9.0159221\",\"2\":\"4.334405\"},{\"1\":\"5.6983249\",\"2\":\"12.664441\"},{\"1\":\"5.1013739\",\"2\":\"9.277442\"},{\"1\":\"9.9930185\",\"2\":\"7.048571\"},{\"1\":\"10.6968522\",\"2\":\"9.596197\"},{\"1\":\"4.9812981\",\"2\":\"5.101039\"},{\"1\":\"34.4249910\",\"2\":\"23.506390\"},{\"1\":\"3.5998155\",\"2\":\"13.612349\"},{\"1\":\"38.0037706\",\"2\":\"21.685617\"},{\"1\":\"1.8350771\",\"2\":\"10.593395\"},{\"1\":\"10.4457521\",\"2\":\"NaN\"},{\"1\":\"11.9783451\",\"2\":\"18.437799\"},{\"1\":\"3.0034374\",\"2\":\"5.204397\"},{\"1\":\"4.8770035\",\"2\":\"5.066200\"},{\"1\":\"14.2331449\",\"2\":\"16.494313\"},{\"1\":\"14.0602537\",\"2\":\"5.766382\"},{\"1\":\"3.6028367\",\"2\":\"11.480837\"},{\"1\":\"5.7347446\",\"2\":\"13.807550\"},{\"1\":\"3.8339838\",\"2\":\"4.611222\"},{\"1\":\"4.7347660\",\"2\":\"3.580362\"},{\"1\":\"22.2734451\",\"2\":\"7.130654\"},{\"1\":\"0.9995878\",\"2\":\"2.720776\"},{\"1\":\"13.1496604\",\"2\":\"NaN\"},{\"1\":\"4.0979352\",\"2\":\"4.839691\"},{\"1\":\"3.2186836\",\"2\":\"10.826084\"},{\"1\":\"15.4953305\",\"2\":\"19.465910\"},{\"1\":\"32.5899638\",\"2\":\"23.375026\"},{\"1\":\"11.9089974\",\"2\":\"4.481353\"},{\"1\":\"5.8114289\",\"2\":\"13.495424\"},{\"1\":\"33.9713279\",\"2\":\"22.886945\"},{\"1\":\"6.1266418\",\"2\":\"3.752403\"},{\"1\":\"10.9935893\",\"2\":\"NaN\"},{\"1\":\"13.5744606\",\"2\":\"19.458811\"},{\"1\":\"3.5817701\",\"2\":\"4.261890\"},{\"1\":\"6.5154910\",\"2\":\"5.166740\"},{\"1\":\"2.2404279\",\"2\":\"4.143295\"},{\"1\":\"5.1801015\",\"2\":\"5.966022\"},{\"1\":\"15.7246820\",\"2\":\"15.091650\"},{\"1\":\"8.4290487\",\"2\":\"8.086296\"},{\"1\":\"10.0737433\",\"2\":\"5.816303\"},{\"1\":\"3.3074347\",\"2\":\"9.575770\"},{\"1\":\"16.4929185\",\"2\":\"18.564604\"},{\"1\":\"4.8077751\",\"2\":\"4.407407\"},{\"1\":\"0.5918813\",\"2\":\"3.030684\"},{\"1\":\"4.8944585\",\"2\":\"5.867027\"},{\"1\":\"5.0431146\",\"2\":\"3.973733\"},{\"1\":\"5.1628035\",\"2\":\"13.709870\"},{\"1\":\"3.7365247\",\"2\":\"3.900070\"},{\"1\":\"15.0183094\",\"2\":\"20.073866\"},{\"1\":\"3.8918040\",\"2\":\"5.073673\"},{\"1\":\"5.5250285\",\"2\":\"11.945822\"},{\"1\":\"5.3673316\",\"2\":\"3.971252\"},{\"1\":\"26.9341978\",\"2\":\"17.521199\"},{\"1\":\"12.0777163\",\"2\":\"15.212849\"},{\"1\":\"9.2394616\",\"2\":\"5.151398\"},{\"1\":\"27.8004065\",\"2\":\"20.741996\"},{\"1\":\"12.9949743\",\"2\":\"10.550419\"},{\"1\":\"4.7622538\",\"2\":\"4.093466\"},{\"1\":\"15.6526152\",\"2\":\"5.622677\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds3 <- vfold_cv(train, v = 5, repeats = 5, strata = case_prop_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv3 <- fit_resamples(workflow3, resamples = folds3)\ncv3_metrics <- collect_metrics(cv3)\ncv3_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"6.0274386\",\"4\":\"25\",\"5\":\"0.15669055\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5296468\",\"4\":\"25\",\"5\":\"0.02903328\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null3 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe3)\n\nnull_cv_metrics3 <- fit_resamples(workflow_null3, resamples = folds3)\n\ncollect_metrics(null_cv_metrics3) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"8.186831\",\"4\":\"25\",\"5\":\"0.3079414\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse3 <- aug_train3 %>% rmse(truth = case_prop_pos_7dma, .pred)\nrsq3 <- aug_train3 %>% rsq(truth = case_prop_pos_7dma, .pred)\nm3_metrics <- full_join(rmse3, rsq3)\nm3_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"5.8509857\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5170567\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train3 %>% ggplot(aes(case_prop_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n### 4. Natural log test positivity rate 7DMA \\~ log10 VL 7DMA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(data$log_case_prop_pos_7dma*100) #check distribution of dependent variable (more normally distributed)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(log10(data$vl_7dma)) #distribution of independent variable (somewhat normally distributed except values near LOD)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-12-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(log_case_prop_pos_7dma*100 ~ log10(vl_7dma), data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-12-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe4 <- recipe(log_case_prop_pos_7dma ~ log10_vl_7dma, data = train) #recipe \n####################################################################################\nworkflow4 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe4) #model workflow\n####################################################################################\nset.seed(13)\nfit4 <- workflow4 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit4) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-17.10410\",\"3\":\"2.6296542\",\"4\":\"-6.504315\",\"5\":\"1.095555e-08\"},{\"1\":\"log10_vl_7dma\",\"2\":\"1.48583\",\"3\":\"0.2046446\",\"4\":\"7.260538\",\"5\":\"4.805053e-10\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train4 <- augment(fit4, train)\naug_train4 %>% select(log_case_prop_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"log_case_prop_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"1.3937267564\",\"2\":\"2.001951\"},{\"1\":\"2.7049178833\",\"2\":\"2.007509\"},{\"1\":\"2.0930486787\",\"2\":\"2.101724\"},{\"1\":\"2.2816850966\",\"2\":\"1.765332\"},{\"1\":\"1.7035610673\",\"2\":\"1.465863\"},{\"1\":\"0.2276068021\",\"2\":\"1.321171\"},{\"1\":\"2.2493002747\",\"2\":\"1.493993\"},{\"1\":\"2.9113802316\",\"2\":\"1.885975\"},{\"1\":\"2.3597726034\",\"2\":\"2.655264\"},{\"1\":\"2.9666207784\",\"2\":\"2.743175\"},{\"1\":\"1.4625529684\",\"2\":\"1.442142\"},{\"1\":\"2.3708612532\",\"2\":\"2.589521\"},{\"1\":\"1.3842143743\",\"2\":\"2.054302\"},{\"1\":\"1.4729217483\",\"2\":\"1.633622\"},{\"1\":\"2.1989921362\",\"2\":\"1.469130\"},{\"1\":\"1.7401722566\",\"2\":\"2.222476\"},{\"1\":\"1.6295098859\",\"2\":\"1.916165\"},{\"1\":\"2.3018867024\",\"2\":\"1.714592\"},{\"1\":\"2.3699495116\",\"2\":\"1.944992\"},{\"1\":\"1.6056905283\",\"2\":\"1.538462\"},{\"1\":\"3.5387827832\",\"2\":\"3.202993\"},{\"1\":\"1.2808825874\",\"2\":\"2.308202\"},{\"1\":\"3.6376853820\",\"2\":\"3.038327\"},{\"1\":\"0.6070865033\",\"2\":\"2.035176\"},{\"1\":\"2.3461953973\",\"2\":\"NaN\"},{\"1\":\"2.4831004449\",\"2\":\"2.744603\"},{\"1\":\"1.0997574246\",\"2\":\"1.547809\"},{\"1\":\"1.5845310038\",\"2\":\"1.535311\"},{\"1\":\"2.6555733925\",\"2\":\"2.568839\"},{\"1\":\"2.6433519280\",\"2\":\"1.598634\"},{\"1\":\"1.2817215165\",\"2\":\"2.115434\"},{\"1\":\"1.7465432209\",\"2\":\"2.325856\"},{\"1\":\"1.3439044259\",\"2\":\"1.494164\"},{\"1\":\"1.5549323042\",\"2\":\"1.400936\"},{\"1\":\"3.1033951684\",\"2\":\"1.722015\"},{\"1\":\"-0.0004122466\",\"2\":\"1.323197\"},{\"1\":\"2.5763959366\",\"2\":\"NaN\"},{\"1\":\"1.4104832309\",\"2\":\"1.514827\"},{\"1\":\"1.1689724648\",\"2\":\"2.056220\"},{\"1\":\"2.7405387197\",\"2\":\"2.837583\"},{\"1\":\"3.4840043824\",\"2\":\"3.191113\"},{\"1\":\"2.4772942001\",\"2\":\"1.482419\"},{\"1\":\"1.7598264769\",\"2\":\"2.297628\"},{\"1\":\"3.5255168726\",\"2\":\"3.146972\"},{\"1\":\"1.8126467750\",\"2\":\"1.416495\"},{\"1\":\"2.3973123135\",\"2\":\"NaN\"},{\"1\":\"2.6081901325\",\"2\":\"2.836941\"},{\"1\":\"1.2758571143\",\"2\":\"1.462572\"},{\"1\":\"1.8741825696\",\"2\":\"1.544404\"},{\"1\":\"0.8066668737\",\"2\":\"1.451846\"},{\"1\":\"1.6448246413\",\"2\":\"1.616689\"},{\"1\":\"2.7552315804\",\"2\":\"2.441986\"},{\"1\":\"2.1316839190\",\"2\":\"1.808441\"},{\"1\":\"2.3099323677\",\"2\":\"1.603149\"},{\"1\":\"1.1961728829\",\"2\":\"1.943145\"},{\"1\":\"2.8029311048\",\"2\":\"2.756071\"},{\"1\":\"1.5702344303\",\"2\":\"1.475732\"},{\"1\":\"-0.5244491917\",\"2\":\"1.351225\"},{\"1\":\"1.5881036549\",\"2\":\"1.607736\"},{\"1\":\"1.6180238618\",\"2\":\"1.436512\"},{\"1\":\"1.6414797462\",\"2\":\"2.317022\"},{\"1\":\"1.3181559622\",\"2\":\"1.429850\"},{\"1\":\"2.7092700853\",\"2\":\"2.892565\"},{\"1\":\"1.3588728140\",\"2\":\"1.535987\"},{\"1\":\"1.7092884108\",\"2\":\"2.157486\"},{\"1\":\"1.6803308798\",\"2\":\"1.436287\"},{\"1\":\"3.2933967730\",\"2\":\"2.661708\"},{\"1\":\"2.4913621244\",\"2\":\"2.452947\"},{\"1\":\"2.2234836176\",\"2\":\"1.543016\"},{\"1\":\"3.3250506424\",\"2\":\"2.952989\"},{\"1\":\"2.5645626928\",\"2\":\"2.031290\"},{\"1\":\"1.5607210513\",\"2\":\"1.447340\"},{\"1\":\"2.7506380090\",\"2\":\"1.585638\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds4 <- vfold_cv(train, v = 5, repeats = 5, strata = log_case_prop_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv4 <- fit_resamples(workflow4, resamples = folds4)\ncv4_metrics <- collect_metrics(cv4)\ncv4_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"0.6317109\",\"4\":\"25\",\"5\":\"0.01977146\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4584744\",\"4\":\"25\",\"5\":\"0.02703459\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null4 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe4)\n\nnull_cv_metrics4 <- fit_resamples(workflow_null4, resamples = folds4)\n\ncollect_metrics(null_cv_metrics4) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"0.8119484\",\"4\":\"25\",\"5\":\"0.02727007\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse4 <- aug_train4 %>% rmse(truth = log_case_prop_pos_7dma, .pred)\nrsq4 <- aug_train4 %>% rsq(truth = log_case_prop_pos_7dma, .pred)\nm4_metrics <- full_join(rmse4, rsq4)\nm4_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"0.6218469\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4366916\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train4 %>% ggplot(aes(log_case_prop_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 3 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n## B) qPCR positivity rate as predictor\n\n### 1. Positive test 7DMA \\~ WW PR 7DMA\n\n#### Viz\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(log10(data$case_pcr_pos_7dma)) #check distribution of dependent variable, more normal when log transformed\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(data$pr_7dma) #distribution of independent variable \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-14-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(log10(case_pcr_pos_7dma) ~ pr_7dma, data=data) #log-transformed looks better\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-14-3.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(case_pcr_pos_7dma ~ pr_7dma, data=data) \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-14-4.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe5 <- recipe(case_pcr_pos_7dma ~ pr_7dma, data = train) #recipe \n####################################################################################\nworkflow5 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe5) #model workflow\n####################################################################################\nset.seed(13)\nfit5 <- workflow5 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit5) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-0.1945278\",\"3\":\"9.4717044\",\"4\":\"-0.02053779\",\"5\":\"9.836763e-01\"},{\"1\":\"pr_7dma\",\"2\":\"1.3687790\",\"3\":\"0.2147746\",\"4\":\"6.37309637\",\"5\":\"2.074965e-08\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train5 <- augment(fit5, train)\naug_train5 %>% select(case_pcr_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"case_pcr_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"9.0000000\",\"2\":\"36.559724\"},{\"1\":\"65.5714286\",\"2\":\"57.018988\"},{\"1\":\"11.7142857\",\"2\":\"60.112159\"},{\"1\":\"35.0714286\",\"2\":\"40.361888\"},{\"1\":\"24.1428571\",\"2\":\"23.306467\"},{\"1\":\"2.2142857\",\"2\":\"3.527759\"},{\"1\":\"72.1428571\",\"2\":\"33.537491\"},{\"1\":\"91.0714286\",\"2\":\"53.397879\"},{\"1\":\"92.8571429\",\"2\":\"60.015709\"},{\"1\":\"38.1428571\",\"2\":\"101.138981\"},{\"1\":\"8.5714286\",\"2\":\"10.443702\"},{\"1\":\"38.5714286\",\"2\":\"105.813426\"},{\"1\":\"11.8571429\",\"2\":\"40.633472\"},{\"1\":\"13.0000000\",\"2\":\"48.364538\"},{\"1\":\"34.2857143\",\"2\":\"28.282181\"},{\"1\":\"16.2142857\",\"2\":\"56.023183\"},{\"1\":\"5.5714286\",\"2\":\"NaN\"},{\"1\":\"64.4285714\",\"2\":\"38.189223\"},{\"1\":\"45.0714286\",\"2\":\"50.500993\"},{\"1\":\"12.9285714\",\"2\":\"17.985567\"},{\"1\":\"214.2857143\",\"2\":\"128.336214\"},{\"1\":\"10.1428571\",\"2\":\"37.465002\"},{\"1\":\"289.7857143\",\"2\":\"89.526052\"},{\"1\":\"2.8571429\",\"2\":\"23.237344\"},{\"1\":\"46.5714286\",\"2\":\"NaN\"},{\"1\":\"48.5714286\",\"2\":\"115.952530\"},{\"1\":\"5.7857143\",\"2\":\"8.330378\"},{\"1\":\"18.4285714\",\"2\":\"35.871714\"},{\"1\":\"73.1428571\",\"2\":\"95.370788\"},{\"1\":\"62.5714286\",\"2\":\"41.086110\"},{\"1\":\"7.5000000\",\"2\":\"42.625081\"},{\"1\":\"16.5000000\",\"2\":\"69.602340\"},{\"1\":\"9.3571429\",\"2\":\"11.823638\"},{\"1\":\"25.6428571\",\"2\":\"17.051002\"},{\"1\":\"116.0000000\",\"2\":\"46.517773\"},{\"1\":\"0.5000000\",\"2\":\"2.159193\"},{\"1\":\"58.1428571\",\"2\":\"NaN\"},{\"1\":\"9.3571429\",\"2\":\"11.129087\"},{\"1\":\"3.0714286\",\"2\":\"23.624912\"},{\"1\":\"98.6428571\",\"2\":\"117.282755\"},{\"1\":\"251.7857143\",\"2\":\"110.249284\"},{\"1\":\"54.2142857\",\"2\":\"18.544709\"},{\"1\":\"9.7142857\",\"2\":\"43.258775\"},{\"1\":\"148.0714286\",\"2\":\"126.736327\"},{\"1\":\"25.8571429\",\"2\":\"18.454181\"},{\"1\":\"35.1428571\",\"2\":\"NaN\"},{\"1\":\"64.8571429\",\"2\":\"123.846547\"},{\"1\":\"10.4285714\",\"2\":\"8.858244\"},{\"1\":\"16.0714286\",\"2\":\"18.166623\"},{\"1\":\"2.8571429\",\"2\":\"5.672579\"},{\"1\":\"21.4285714\",\"2\":\"42.389709\"},{\"1\":\"60.3571429\",\"2\":\"82.608971\"},{\"1\":\"13.9285714\",\"2\":\"22.060610\"},{\"1\":\"36.7142857\",\"2\":\"42.606976\"},{\"1\":\"3.4285714\",\"2\":\"NaN\"},{\"1\":\"96.4285714\",\"2\":\"110.583704\"},{\"1\":\"7.5714286\",\"2\":\"12.607156\"},{\"1\":\"0.6428571\",\"2\":\"3.969747\"},{\"1\":\"6.2142857\",\"2\":\"11.574075\"},{\"1\":\"7.7857143\",\"2\":\"7.727871\"},{\"1\":\"12.5714286\",\"2\":\"46.608301\"},{\"1\":\"4.1428571\",\"2\":\"7.047689\"},{\"1\":\"76.5714286\",\"2\":\"122.804946\"},{\"1\":\"6.9285714\",\"2\":\"7.609540\"},{\"1\":\"9.0000000\",\"2\":\"48.237800\"},{\"1\":\"27.1428571\",\"2\":\"19.993153\"},{\"1\":\"228.7142857\",\"2\":\"71.784312\"},{\"1\":\"22.3571429\",\"2\":\"76.376690\"},{\"1\":\"57.5714286\",\"2\":\"23.795317\"},{\"1\":\"86.2857143\",\"2\":\"119.831262\"},{\"1\":\"32.2142857\",\"2\":\"39.336723\"},{\"1\":\"8.0714286\",\"2\":\"7.365760\"},{\"1\":\"114.5714286\",\"2\":\"37.158600\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds5 <- vfold_cv(train, v = 5, repeats = 5, strata = case_pcr_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv5 <- fit_resamples(workflow5, resamples = folds5)\ncv5_metrics <- collect_metrics(cv5)\ncv5_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"46.0289361\",\"4\":\"25\",\"5\":\"3.17420465\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4430103\",\"4\":\"25\",\"5\":\"0.02715518\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null5 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe5)\n\nnull_cv_metrics5 <- fit_resamples(workflow_null5, resamples = folds5)\n\ncollect_metrics(null_cv_metrics5) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"56.69927\",\"4\":\"25\",\"5\":\"3.208305\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse5 <- aug_train5 %>% rmse(truth = case_pcr_pos_7dma, .pred)\nrsq5 <- aug_train5 %>% rsq(truth = case_pcr_pos_7dma, .pred)\nm5_metrics <- full_join(rmse5, rsq5)\nm5_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"47.405252\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.380958\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train5 %>% ggplot(aes(case_pcr_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n### 2. Natural log positive test count\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe6 <- recipe(log_case_pos_7dma ~ pr_7dma, data = train) #recipe \n####################################################################################\nworkflow6 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe6) #model workflow\n####################################################################################\nset.seed(13)\nfit6 <- workflow6 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit6) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"1.92130316\",\"3\":\"0.191279093\",\"4\":\"10.044502\",\"5\":\"6.313994e-15\"},{\"1\":\"pr_7dma\",\"2\":\"0.03428029\",\"3\":\"0.004337328\",\"4\":\"7.903551\",\"5\":\"3.940128e-11\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train6 <- augment(fit6, train)\naug_train6 %>% select(log_case_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"log_case_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"2.1972246\",\"2\":\"2.841792\"},{\"1\":\"4.1831401\",\"2\":\"3.354183\"},{\"1\":\"2.4608091\",\"2\":\"3.431650\"},{\"1\":\"3.5573868\",\"2\":\"2.937015\"},{\"1\":\"3.1839886\",\"2\":\"2.509872\"},{\"1\":\"0.7949299\",\"2\":\"2.014526\"},{\"1\":\"4.2786483\",\"2\":\"2.766102\"},{\"1\":\"4.5116441\",\"2\":\"3.263494\"},{\"1\":\"4.5310622\",\"2\":\"3.429234\"},{\"1\":\"3.6413385\",\"2\":\"4.459143\"},{\"1\":\"2.1484344\",\"2\":\"2.187732\"},{\"1\":\"3.6525118\",\"2\":\"4.576212\"},{\"1\":\"2.4729305\",\"2\":\"2.943817\"},{\"1\":\"2.5649494\",\"2\":\"3.137437\"},{\"1\":\"3.5347288\",\"2\":\"2.634486\"},{\"1\":\"2.7858927\",\"2\":\"3.329244\"},{\"1\":\"1.7176515\",\"2\":\"NaN\"},{\"1\":\"4.1655572\",\"2\":\"2.882602\"},{\"1\":\"3.8082485\",\"2\":\"3.190943\"},{\"1\":\"2.5594397\",\"2\":\"2.376613\"},{\"1\":\"5.3673102\",\"2\":\"5.140282\"},{\"1\":\"2.3167697\",\"2\":\"2.864465\"},{\"1\":\"5.6691417\",\"2\":\"4.168304\"},{\"1\":\"1.0498221\",\"2\":\"2.508141\"},{\"1\":\"3.8409872\",\"2\":\"NaN\"},{\"1\":\"3.8830355\",\"2\":\"4.830140\"},{\"1\":\"1.7553918\",\"2\":\"2.134805\"},{\"1\":\"2.9139023\",\"2\":\"2.824562\"},{\"1\":\"4.2924145\",\"2\":\"4.314682\"},{\"1\":\"4.1363088\",\"2\":\"2.955153\"},{\"1\":\"2.0149030\",\"2\":\"2.993696\"},{\"1\":\"2.8033604\",\"2\":\"3.669326\"},{\"1\":\"2.2361400\",\"2\":\"2.222291\"},{\"1\":\"3.2442651\",\"2\":\"2.353208\"},{\"1\":\"4.7535902\",\"2\":\"3.091186\"},{\"1\":\"-0.6931472\",\"2\":\"1.980251\"},{\"1\":\"4.0629030\",\"2\":\"NaN\"},{\"1\":\"2.2361400\",\"2\":\"2.204897\"},{\"1\":\"1.1221428\",\"2\":\"2.517847\"},{\"1\":\"4.5915058\",\"2\":\"4.863455\"},{\"1\":\"5.5285784\",\"2\":\"4.687305\"},{\"1\":\"3.9929444\",\"2\":\"2.390617\"},{\"1\":\"2.2735976\",\"2\":\"3.009566\"},{\"1\":\"4.9976948\",\"2\":\"5.100214\"},{\"1\":\"3.2525869\",\"2\":\"2.388349\"},{\"1\":\"3.5594214\",\"2\":\"NaN\"},{\"1\":\"4.1721870\",\"2\":\"5.027841\"},{\"1\":\"2.3445493\",\"2\":\"2.148025\"},{\"1\":\"2.7770431\",\"2\":\"2.381148\"},{\"1\":\"1.0498221\",\"2\":\"2.068241\"},{\"1\":\"3.0647251\",\"2\":\"2.987801\"},{\"1\":\"4.1002793\",\"2\":\"3.995069\"},{\"1\":\"2.6339422\",\"2\":\"2.478670\"},{\"1\":\"3.6031659\",\"2\":\"2.993242\"},{\"1\":\"1.2321437\",\"2\":\"NaN\"},{\"1\":\"4.5688025\",\"2\":\"4.695681\"},{\"1\":\"2.0243818\",\"2\":\"2.241914\"},{\"1\":\"-0.4418328\",\"2\":\"2.025595\"},{\"1\":\"1.8268508\",\"2\":\"2.216041\"},{\"1\":\"2.0522906\",\"2\":\"2.119715\"},{\"1\":\"2.5314267\",\"2\":\"3.093453\"},{\"1\":\"1.4213857\",\"2\":\"2.102680\"},{\"1\":\"4.3382240\",\"2\":\"5.001755\"},{\"1\":\"1.9356536\",\"2\":\"2.116752\"},{\"1\":\"2.1972246\",\"2\":\"3.134263\"},{\"1\":\"3.3011139\",\"2\":\"2.426892\"},{\"1\":\"5.4324736\",\"2\":\"3.723972\"},{\"1\":\"3.1071459\",\"2\":\"3.838986\"},{\"1\":\"4.0530264\",\"2\":\"2.522115\"},{\"1\":\"4.4576640\",\"2\":\"4.927280\"},{\"1\":\"3.4724100\",\"2\":\"2.911341\"},{\"1\":\"2.0883305\",\"2\":\"2.110646\"},{\"1\":\"4.7411985\",\"2\":\"2.856791\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds6 <- vfold_cv(train, v = 5, repeats = 5, strata = log_case_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv6 <- fit_resamples(workflow6, resamples = folds6)\ncv6_metrics <- collect_metrics(cv6)\ncv6_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"0.9580685\",\"4\":\"25\",\"5\":\"0.03975078\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5286300\",\"4\":\"25\",\"5\":\"0.02726394\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null6 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe6)\n\nnull_cv_metrics6 <- fit_resamples(workflow_null6, resamples = folds6)\n\ncollect_metrics(null_cv_metrics6) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1.311033\",\"4\":\"25\",\"5\":\"0.04394218\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse6 <- aug_train6 %>% rmse(truth = log_case_pos_7dma, .pred)\nrsq6 <- aug_train6 %>% rsq(truth = log_case_pos_7dma, .pred)\nm6_metrics <- full_join(rmse6, rsq6)\nm6_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"0.9573392\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4862458\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train6 %>% ggplot(aes(log_case_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### 3. Test positivity rate 7DMA \\~ WW PR 7DMA\n\n#### Viz\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(data$case_prop_pos_7dma) #check distribution of dependent variable \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(data$pr_7dma) #distribution of independent variable \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-17-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(case_prop_pos_7dma ~ pr_7dma, data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-17-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe7 <- recipe(case_prop_pos_7dma ~ pr_7dma, data = train) #recipe \n####################################################################################\nworkflow7 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe7) #model workflow\n####################################################################################\nset.seed(13)\nfit7 <- workflow7 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit7) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"2.0713412\",\"3\":\"1.12838674\",\"4\":\"1.835666\",\"5\":\"7.091252e-02\"},{\"1\":\"pr_7dma\",\"2\":\"0.2329008\",\"3\":\"0.02558661\",\"4\":\"9.102448\",\"5\":\"2.861504e-13\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train7 <- augment(fit7, train)\naug_train7 %>% select(case_prop_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"case_prop_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4.0298403\",\"2\":\"8.325158\"},{\"1\":\"14.9530887\",\"2\":\"11.806347\"},{\"1\":\"8.1096011\",\"2\":\"12.332656\"},{\"1\":\"9.7931689\",\"2\":\"8.972104\"},{\"1\":\"5.4934752\",\"2\":\"6.070087\"},{\"1\":\"1.2555915\",\"2\":\"2.704696\"},{\"1\":\"9.4810994\",\"2\":\"7.810918\"},{\"1\":\"18.3821527\",\"2\":\"11.190207\"},{\"1\":\"10.5885434\",\"2\":\"12.316245\"},{\"1\":\"19.4261632\",\"2\":\"19.313460\"},{\"1\":\"4.3169666\",\"2\":\"3.881459\"},{\"1\":\"10.7066094\",\"2\":\"20.108827\"},{\"1\":\"3.9916887\",\"2\":\"9.018315\"},{\"1\":\"4.3619611\",\"2\":\"10.333773\"},{\"1\":\"9.0159221\",\"2\":\"6.916716\"},{\"1\":\"5.6983249\",\"2\":\"11.636908\"},{\"1\":\"5.1013739\",\"2\":\"NaN\"},{\"1\":\"9.9930185\",\"2\":\"8.602421\"},{\"1\":\"10.6968522\",\"2\":\"10.697295\"},{\"1\":\"4.9812981\",\"2\":\"5.164724\"},{\"1\":\"34.4249910\",\"2\":\"23.941129\"},{\"1\":\"3.5998155\",\"2\":\"8.479193\"},{\"1\":\"38.0037706\",\"2\":\"17.337495\"},{\"1\":\"1.8350771\",\"2\":\"6.058326\"},{\"1\":\"10.4457521\",\"2\":\"NaN\"},{\"1\":\"11.9783451\",\"2\":\"21.834018\"},{\"1\":\"3.0034374\",\"2\":\"3.521873\"},{\"1\":\"4.8770035\",\"2\":\"8.208091\"},{\"1\":\"14.2331449\",\"2\":\"18.331989\"},{\"1\":\"14.0602537\",\"2\":\"9.095332\"},{\"1\":\"3.6028367\",\"2\":\"9.357192\"},{\"1\":\"5.7347446\",\"2\":\"13.947432\"},{\"1\":\"3.8339838\",\"2\":\"4.116259\"},{\"1\":\"4.7347660\",\"2\":\"5.005706\"},{\"1\":\"22.2734451\",\"2\":\"10.019542\"},{\"1\":\"0.9995878\",\"2\":\"2.471832\"},{\"1\":\"13.1496604\",\"2\":\"NaN\"},{\"1\":\"4.0979352\",\"2\":\"3.998079\"},{\"1\":\"3.2186836\",\"2\":\"6.124271\"},{\"1\":\"15.4953305\",\"2\":\"22.060359\"},{\"1\":\"32.5899638\",\"2\":\"20.863598\"},{\"1\":\"11.9089974\",\"2\":\"5.259864\"},{\"1\":\"5.8114289\",\"2\":\"9.465016\"},{\"1\":\"33.9713279\",\"2\":\"23.668905\"},{\"1\":\"6.1266418\",\"2\":\"5.244460\"},{\"1\":\"10.9935893\",\"2\":\"NaN\"},{\"1\":\"13.5744606\",\"2\":\"23.177202\"},{\"1\":\"3.5817701\",\"2\":\"3.611690\"},{\"1\":\"6.5154910\",\"2\":\"5.195531\"},{\"1\":\"2.2404279\",\"2\":\"3.069642\"},{\"1\":\"5.1801015\",\"2\":\"9.317143\"},{\"1\":\"15.7246820\",\"2\":\"16.160538\"},{\"1\":\"8.4290487\",\"2\":\"5.858102\"},{\"1\":\"10.0737433\",\"2\":\"9.354111\"},{\"1\":\"3.3074347\",\"2\":\"NaN\"},{\"1\":\"16.4929185\",\"2\":\"20.920501\"},{\"1\":\"4.8077751\",\"2\":\"4.249576\"},{\"1\":\"0.5918813\",\"2\":\"2.779902\"},{\"1\":\"4.8944585\",\"2\":\"4.073795\"},{\"1\":\"5.0431146\",\"2\":\"3.419355\"},{\"1\":\"5.1628035\",\"2\":\"10.034945\"},{\"1\":\"3.7365247\",\"2\":\"3.303620\"},{\"1\":\"15.0183094\",\"2\":\"22.999972\"},{\"1\":\"3.8918040\",\"2\":\"3.399221\"},{\"1\":\"5.5250285\",\"2\":\"10.312208\"},{\"1\":\"5.3673316\",\"2\":\"5.506319\"},{\"1\":\"26.9341978\",\"2\":\"14.318699\"},{\"1\":\"12.0777163\",\"2\":\"15.100102\"},{\"1\":\"9.2394616\",\"2\":\"6.153266\"},{\"1\":\"27.8004065\",\"2\":\"22.493993\"},{\"1\":\"12.9949743\",\"2\":\"8.797670\"},{\"1\":\"4.7622538\",\"2\":\"3.357741\"},{\"1\":\"15.6526152\",\"2\":\"8.427058\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds7 <- vfold_cv(train, v = 5, repeats = 5, strata = case_prop_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv7 <- fit_resamples(workflow7, resamples = folds7)\ncv7_metrics <- collect_metrics(cv7)\ncv7_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"5.8150205\",\"4\":\"25\",\"5\":\"0.20925701\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5886162\",\"4\":\"25\",\"5\":\"0.02663198\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null7 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe7)\n\nnull_cv_metrics7 <- fit_resamples(workflow_null7, resamples = folds7)\n\ncollect_metrics(null_cv_metrics7) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"8.186831\",\"4\":\"25\",\"5\":\"0.3079414\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse7 <- aug_train7 %>% rmse(truth = case_prop_pos_7dma, .pred)\nrsq7 <- aug_train7 %>% rsq(truth = case_prop_pos_7dma, .pred)\nm7_metrics <- full_join(rmse7, rsq7)\nm7_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"5.6475007\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5566142\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train7 %>% ggplot(aes(case_prop_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n## C) Log qPCR positivity rate as predictor\n\n### 1. Test positivity rate 7DMA \\~ Log WW PR\n\n#### Viz\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhist(data$case_prop_pos_7dma) #check distribution of dependent variable \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n```{.r .cell-code}\nhist(data$log_pr_7dma) #distribution of independent variable \n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-19-2.png){width=672}\n:::\n\n```{.r .cell-code}\nplot(case_prop_pos_7dma ~ log_pr_7dma, data=data)\n```\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-19-3.png){width=672}\n:::\n:::\n\n\n#### Model\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrecipe8 <- recipe(case_prop_pos_7dma ~ log_pr_7dma, data = train) #recipe \n####################################################################################\nworkflow8 <- workflow() %>% \n  add_model(lr) %>% \n  add_recipe(recipe8) #model workflow\n####################################################################################\nset.seed(13)\nfit8 <- workflow8 %>% \n  fit(data = train) #fit model to data\n\ntidy(fit8) \n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"term\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"estimate\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"std.error\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"statistic\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"p.value\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"(Intercept)\",\"2\":\"-8.451080\",\"3\":\"2.6238335\",\"4\":\"-3.220890\",\"5\":\"1.984877e-03\"},{\"1\":\"log_pr_7dma\",\"2\":\"5.882242\",\"3\":\"0.7926237\",\"4\":\"7.421229\",\"5\":\"2.873537e-10\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train8 <- augment(fit8, train)\naug_train8 %>% select(case_prop_pos_7dma, .pred) #make predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"case_prop_pos_7dma\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4.0298403\",\"2\":\"10.9034658\"},{\"1\":\"14.9530887\",\"2\":\"13.5065711\"},{\"1\":\"8.1096011\",\"2\":\"13.8162879\"},{\"1\":\"9.7931689\",\"2\":\"11.4825142\"},{\"1\":\"5.4934752\",\"2\":\"8.2728614\"},{\"1\":\"1.2555915\",\"2\":\"-2.5663732\"},{\"1\":\"9.4810994\",\"2\":\"10.3987317\"},{\"1\":\"18.3821527\",\"2\":\"13.1219739\"},{\"1\":\"10.5885434\",\"2\":\"13.8068727\"},{\"1\":\"19.4261632\",\"2\":\"16.8690195\"},{\"1\":\"4.3169666\",\"2\":\"3.6106630\"},{\"1\":\"10.7066094\",\"2\":\"17.1342909\"},{\"1\":\"3.9916887\",\"2\":\"11.5217729\"},{\"1\":\"4.3619611\",\"2\":\"12.5418291\"},{\"1\":\"9.0159221\",\"2\":\"9.4025094\"},{\"1\":\"5.6983249\",\"2\":\"13.4032889\"},{\"1\":\"5.1013739\",\"2\":\"NaN\"},{\"1\":\"9.9930185\",\"2\":\"11.1586392\"},{\"1\":\"10.6968522\",\"2\":\"12.7950986\"},{\"1\":\"4.9812981\",\"2\":\"6.7627991\"},{\"1\":\"34.4249910\",\"2\":\"18.2675283\"},{\"1\":\"3.5998155\",\"2\":\"11.0465931\"},{\"1\":\"38.0037706\",\"2\":\"16.1530508\"},{\"1\":\"1.8350771\",\"2\":\"8.2555347\"},{\"1\":\"10.4457521\",\"2\":\"NaN\"},{\"1\":\"11.9783451\",\"2\":\"17.6715925\"},{\"1\":\"3.0034374\",\"2\":\"2.3079691\"},{\"1\":\"4.8770035\",\"2\":\"10.7923113\"},{\"1\":\"14.2331449\",\"2\":\"16.5242778\"},{\"1\":\"14.0602537\",\"2\":\"11.5866274\"},{\"1\":\"3.6028367\",\"2\":\"11.8019326\"},{\"1\":\"5.7347446\",\"2\":\"14.6759549\"},{\"1\":\"3.8339838\",\"2\":\"4.3280920\"},{\"1\":\"4.7347660\",\"2\":\"6.4523675\"},{\"1\":\"22.2734451\",\"2\":\"12.3137546\"},{\"1\":\"0.9995878\",\"2\":\"-5.2624452\"},{\"1\":\"13.1496604\",\"2\":\"NaN\"},{\"1\":\"4.0979352\",\"2\":\"3.9779280\"},{\"1\":\"3.2186836\",\"2\":\"8.3520321\"},{\"1\":\"15.4953305\",\"2\":\"17.7385786\"},{\"1\":\"32.5899638\",\"2\":\"17.3754203\"},{\"1\":\"11.9089974\",\"2\":\"6.9409854\"},{\"1\":\"5.8114289\",\"2\":\"11.8883470\"},{\"1\":\"33.9713279\",\"2\":\"18.1938495\"},{\"1\":\"6.1266418\",\"2\":\"6.9124999\"},{\"1\":\"10.9935893\",\"2\":\"NaN\"},{\"1\":\"13.5744606\",\"2\":\"18.0583831\"},{\"1\":\"3.5817701\",\"2\":\"2.6613683\"},{\"1\":\"6.5154910\",\"2\":\"6.8210905\"},{\"1\":\"2.2404279\",\"2\":\"0.1101849\"},{\"1\":\"5.1801015\",\"2\":\"11.7695097\"},{\"1\":\"15.7246820\",\"2\":\"15.6811193\"},{\"1\":\"8.4290487\",\"2\":\"7.9524565\"},{\"1\":\"10.0737433\",\"2\":\"11.7994449\"},{\"1\":\"3.3074347\",\"2\":\"NaN\"},{\"1\":\"16.4929185\",\"2\":\"17.3932046\"},{\"1\":\"4.8077751\",\"2\":\"4.6995991\"},{\"1\":\"0.5918813\",\"2\":\"-1.9063621\"},{\"1\":\"4.8944585\",\"2\":\"4.2046584\"},{\"1\":\"5.0431146\",\"2\":\"1.8768127\"},{\"1\":\"5.1628035\",\"2\":\"12.3251433\"},{\"1\":\"3.7365247\",\"2\":\"1.3487838\"},{\"1\":\"15.0183094\",\"2\":\"18.0087800\"},{\"1\":\"3.8918040\",\"2\":\"1.7882918\"},{\"1\":\"5.5250285\",\"2\":\"12.5264564\"},{\"1\":\"5.3673316\",\"2\":\"7.3789358\"},{\"1\":\"26.9341978\",\"2\":\"14.8570282\"},{\"1\":\"12.0777163\",\"2\":\"15.2208394\"},{\"1\":\"9.2394616\",\"2\":\"8.3939641\"},{\"1\":\"27.8004065\",\"2\":\"17.8648213\"},{\"1\":\"12.9949743\",\"2\":\"11.3319142\"},{\"1\":\"4.7622538\",\"2\":\"1.6016133\"},{\"1\":\"15.6526152\",\"2\":\"10.9985389\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nset.seed(13)\nfolds8 <- vfold_cv(train, v = 5, repeats = 5, strata = case_prop_pos_7dma)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\nThe number of observations in each quantile is below the recommended threshold of 20.\n• Stratification will use 3 breaks instead.\n```\n:::\n\n```{.r .cell-code}\nset.seed(13)\ncv8 <- fit_resamples(workflow8, resamples = folds8)\ncv8_metrics <- collect_metrics(cv8)\ncv8_metrics #check cross validation metrics\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"6.3541504\",\"4\":\"25\",\"5\":\"0.24608821\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4913164\",\"4\":\"25\",\"5\":\"0.01817352\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nworkflow_null8 <- workflow() %>% \n  add_model(null) %>% \n  add_recipe(recipe8)\n\nnull_cv_metrics8 <- fit_resamples(workflow_null8, resamples = folds8)\n\ncollect_metrics(null_cv_metrics8) #check null model\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"mean\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"n\"],\"name\":[4],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"std_err\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".config\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"8.186831\",\"4\":\"25\",\"5\":\"0.3079414\",\"6\":\"Preprocessor1_Model1\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"NaN\",\"4\":\"0\",\"5\":\"NA\",\"6\":\"Preprocessor1_Model1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\nrmse8 <- aug_train8 %>% rmse(truth = case_prop_pos_7dma, .pred)\nrsq8 <- aug_train8 %>% rsq(truth = case_prop_pos_7dma, .pred)\nm8_metrics <- full_join(rmse8, rsq8)\nm8_metrics #check metrics of predictions on train data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"6.2619670\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.4548817\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n####################################################################################\naug_train8 %>% ggplot(aes(case_prop_pos_7dma, .pred)) +\n  geom_point() +\n  stat_smooth(method = \"lm\") #check actual vs predicted\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](4_univariate_regressions_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## Notes\n\n-   Model B3 seems to be performing the best so far (out of A1-4, B1-4) but no model is significantly out-performing the others yet\n\n-   Many distributions are not normal and transformations do not help with normality, is this still okay to do linear regressions with?\n\n-   What if something is potentially bimodally distributed? (see histogram for pr_7dma)\n\n## Next Steps (as of 11/17/23)\n\n-   need to do model validation steps with the reserved 20% testing data\n\n-   need to see how models will perform on the testing dates (April 2022-end of series)\n\n-   need to build more univariate models, then move on to multivariates\n",
    "supporting": [
      "4_univariate_regressions_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}